---
import NonAuthLayout from "../layouts/NonAuthLayout.astro";
import { RegisterForm } from "../components/auth/RegisterForm";
import { Card } from "@/components/ui/card";

// Disable prerendering - render on server
export const prerender = false;

// Check if the user is already logged in
if (Astro.locals.user) {
  return Astro.redirect("/generate");
}
---

<NonAuthLayout title="Rejestracja - 10x Cards">
  <Card className="backdrop-blur-xl bg-white border border-gray-200 shadow-xl">
    <div class="mb-6 pt-6 px-6">
      <h2
        class="text-2xl font-bold text-center bg-gradient-to-r from-blue-300 to-blue-100 text-transparent bg-clip-text"
      >
        Załóż konto
      </h2>
    </div>
    <RegisterForm client:load />
  </Card>
</NonAuthLayout>
