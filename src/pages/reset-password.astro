---
import NonAuthLayout from "../layouts/NonAuthLayout.astro";
import { PasswordResetForm } from "../components/auth/PasswordResetForm";
import { Card } from "@/components/ui/card";

// Wyłącz prerenderowanie - renderuj na serwerze
export const prerender = false;

// Sprawdź, czy użytkownik jest już zalogowany
if (Astro.locals.user) {
  return Astro.redirect("/generate");
}
---

<NonAuthLayout title="Reset hasła - 10x Cards">
  <Card className="backdrop-blur-xl bg-gradient-to-b from-white/10 to-white/5 border border-white/10 shadow-xl">
    <div class="mb-6 pt-6 px-6">
      <h2
        class="text-2xl font-bold text-center bg-gradient-to-r from-blue-300 to-blue-100 text-transparent bg-clip-text"
      >
        Reset hasła
      </h2>
    </div>
    <PasswordResetForm client:load />
  </Card>
</NonAuthLayout>
